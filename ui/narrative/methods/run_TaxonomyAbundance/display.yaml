#
# define display information
#
name: Taxonomy Abundance Barplot

tooltip: |
    Creates a relative abundance bar chart showing taxonomic percentage, along with optional grouping based on metadata.

screenshots: []

icon: icon.png

#
# define a set of similar apps that might be useful to the user
#
suggestions:
    apps:
        related:
            [app1, app2]
        next:
            [app3, app4]

#
# Configure the display and description of parameters
#
parameters :
    amplicon_matrix_ref :
        ui-name : |
            Amplicon Matrix
        short-hint : |
            AmpliconMatrix
        long-hint  : |
            AmpliconMatrix.

    test_row_attri_ref:
        ui-name: |
            {AmpmpliconMatrix_name}_row_attributes
        short-hint: |
            AttributeMapping that correlates to the AmpliconMatrix
        long-hint: |
            AttributeMapping that correlates to the AmpliconMatrix. Contains taxonomy data.

    attri_mapping_ref:
        ui-name: |
            Metadata AttributeMapping
        short-hint: |
            AttributeMapping where metadata for grouping is stored.
        long-hint: |
            This is optional, but required if Metadata Grouping Column Name is entered.

    threshold:
        ui-name: |
            Cutoff
        short-hint: |
            For 'Other' category. Enter a percentage in decimal form. Ex: 0.005 for 0.5%
        long-hint: |
            All taxonomies with percentages(decimal form) below cutoff for all samples will be placed in 'Other'.

    taxonomy_level:
        ui-name: |
            Taxonomic Level
        short-hint: |
            1-6
        long-hint: |
            Taxonomic string will include chosen and below.

    meta_group:
        ui-name: |
            Metadata Grouping Column Name
        short-hint: |
            Name of the column in AttributeMapping metadata in which to group by
        long-hint: |
            Name of the column in AttributeMapping metadata in which to group by.

parameter-groups :
    grouping_label:
        ui-name : Meta Group
        short-hint :  Select an attribute to group by

description : |
    <p>This method creates a Relative Abundance bar graph for taxonomic strings and groups based on metadata criteria</p>
